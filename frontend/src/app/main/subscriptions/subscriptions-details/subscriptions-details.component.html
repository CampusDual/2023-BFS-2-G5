<o-form
  #subscriptionDetailForm
  service="subLapses"
  entity="subLapse"
  keys="SUB_LAPSE_ID;SUBS_ID;FR_ID"
  header-actions="U"
  show-header-navigation="no"
  keys-sql-types="INTEGER"
  (onDataLoaded)="getSharedCount($event)"
>
  <o-column title="{{ 'SUBSCRIPTION_INFORMATION' | oTranslate }}">
    <o-row fxFlex="100">
      <o-text-input
        attr="PLATF_NAME"
        layout-padding
        fxFlex="33"
        read-only="yes"
      ></o-text-input>
      <o-text-input
        attr="PLAN_NAME"
        layout-padding
        fxFlex="33"
        read-only="yes"
      ></o-text-input>
      <o-text-input
        attr="FR_NAME"
        layout-padding
        fxFlex="33"
        read-only="yes"
      ></o-text-input>
    </o-row>
    <o-row>
      <o-date-input
        attr="SUB_LAPSE_START"
        label="SUB_START"
        class="input-padding"
        layout-padding
        fxFlex="33"
        read-only="yes"
      ></o-date-input>
      <o-date-input
        attr="SUB_LAPSE_END"
        label="SUB_END"
        class="input-padding"
        layout-padding
        fxFlex="33"
        read-only="yes"
      ></o-date-input>
    </o-row>
    <o-row>
      <o-currency-input
        attr="SUB_LAPSE_PRICE"
        fxFlex="33"
        layout-padding
      ></o-currency-input>
      <o-currency-input
        #sharedPriceInput
        attr="SHARED_PRICE"
        [automatic-registering]="false"
        fxFlex="33"
        layout-padding
        read-only="yes"
        [data] = "getSharedValue()"
      ></o-currency-input>
      <o-checkbox
        attr="SUBS_AUTORENEWAL"
        label="RENEW"
        [data]="true"
        read-only="no"
        required="yes"
        layout-padding
      ></o-checkbox>
    </o-row>
  </o-column>
</o-form>

<o-form-layout-manager
  mode="dialog"
  title="SHARE"
  label-columns="USER_SUB_ID;SUBS_ID;USER_"
  separator=""
  attr="share-form"
>
  <o-form-layout-dialog-options
    width="600px"
    height="400px"
    disable-close="false"
  ></o-form-layout-dialog-options>
  <div fxFill fxLayout="column" fxLayoutAlign="start">
    <o-table
      attr="userSub"
      delete-button="no"
      refresh-button="no"
      service="userSubs"
      entity="userSub"
      keys="USER_SUB_ID"
      columns="USER_SUB_ID;SUBS_ID;USER_"
      visible-columns="USER_"
      query-rows="20"
      auto-align-titles="no"
      parent-keys="SUB_LAPSE_ID"
    >
    </o-table>
  </div>
</o-form-layout-manager>
